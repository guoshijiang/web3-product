# Web3 产品课程之区块链(Web3)行业简单介绍

## 一.区块链简介

区块链是一种分布式账本技术，最早被用于比特币等加密货币的底层技术。它通过分布式网络中的多个节点共同维护一个公开且不可篡改的账本，来实现去中心化、透明和安全的数据记录和交易。以下是区块链的一些关键概念和特点：
- 去中心化：传统的数据库通常由一个中央机构控制，而区块链是由网络中的多个节点共同维护的，没有单一的控制中心。
- 分布式账本：每个节点都有一份完整的账本副本，当一个新的交易发生时，所有节点都需要达成共识，这保证了数据的一致性和安全性。
- 不可篡改性：一旦数据被记录在区块链上，就很难被篡改或删除。这是通过密码学的哈希函数和共识机制来实现的。
- 透明性：区块链上的交易是公开的，任何人都可以查看，这提高了系统的透明度和信任度。
- 智能合约：这是区块链上的一个重要功能，也是 Defi 和 NFT 产品的载体

### 1.区块链的组成要素
- 节点（Node）：区块链网络中的每个参与者。
- 区块（Block）：区块链上的基本数据单位，包含多个交易信息。
- 链（Chain）：由多个区块按顺序连接形成的链条结构。
- 哈希（Hash）：一种将输入数据转换为固定长度字符串的密码学算法，用于保证数据的完整性和安全性。
- 共识机制：用于节点间达成一致的方法，如工作量证明（PoW）、权益证明（PoS）等。

## 二.区块链几个重要的公链项目

### 1.Bitcoin
#### 1.1.Bitcoin 简介
比特币（Bitcoin）是由一个或一群化名为中本聪（Satoshi Nakamoto）的人在 2008 年提出，并于 2009 年开始发布的去中心化数字货币。它的出现标志着一种新型金融体系的诞生，具有以下主要特点：
- 去中心化：
  - 比特币网络没有中央管理机构或中介机构，它通过一个称为区块链的分布式账本来记录所有交易。
  - 区块链技术确保了所有参与者都可以查看和验证交易，提高了透明度和安全性。
- 有限供应：
  - 比特币的总供应量被固定在2100万枚，这通过代码内的机制控制。
  - 这一机制使比特币具备了抗通胀的特点。
- 点对点交易：
  - 比特币允许用户之间直接进行交易，不需要通过银行或支付处理机构。
  - 这种点对点交易减少了交易成本和处理时间。
- 安全性：
  - 比特币使用加密技术确保交易的安全性和隐私性。
  - 每一笔交易都需要通过复杂的数学算法进行验证，从而确保系统的完整性。
- 不可逆交易：
  - 一旦比特币交易被确认，它就无法被撤销。这减少了欺诈的风险，但也意味着用户需要谨慎操作。
- 挖矿机制：
  - 新的比特币通过一个称为挖矿的过程产生。矿工们使用计算能力来解决复杂的数学问题，成功解决问题的矿工将获得比特币奖励。
  - 挖矿不仅生成新币，还维护和保护比特币网络的安全。
- 全球流通：
  - 比特币可以在全球范围内进行交易，不受地域和国界的限制。
  - 它为跨国支付提供了一种高效、低成本的替代方案。
- 隐私和匿名性：
  - 虽然比特币交易是公开记录的，但用户身份是匿名的。交易是通过地址（类似于账号）进行的，而不是通过真实身份。

#### 1.2.Bitcoin 的升级次数介绍

比特币自 2009 年发布以来，经历了多次重要升级。这些升级旨在提高比特币网络的安全性、效率和功能性。

并且比特币的 Taproot 升级给比特币带来更多的可能性，Taproot 升级带动了 BRC20 和 Bitcoin-Layer2 的发展，这里我们不在做过多的介绍，在未来的 Layer2. 的课程中我们会深入讲解这部分的内容

P2SH（Pay-to-Script-Hash）
- 时间：2012年
- BIP（Bitcoin Improvement Proposal）：BIP-0016
- 内容：允许更复杂的交易脚本，支持多重签名地址。这种升级使得比特币交易更加灵活和安全
比特币改进提案 BIP 66
- 时间：2015年
- BIP：BIP-0066
- 内容：规范了交易中DER格式的签名，解决了交易签名的一致性问题，增强了网络的安全性。
CheckSequenceVerify（CSV）
- 时间：2016年
- BIP：BIP-0112
- 内容：增加了相对时间锁功能，使得交易可以在指定的时间或块高度之后才生效，这为更复杂的支付通道铺平了道路。
Segregated Witness（SegWit）
- 时间：2017年
- BIP：BIP-0141, BIP-0143, BIP-0144
- 内容：分离交易签名数据，提高了区块的有效容量，减小了交易体积，降低了交易费用。还解决了交易的可塑性问题，使得闪电网络等侧链解决方案成为可能。
隔离见证2x（SegWit2x）
- 时间：2017年
- 内容：这次升级是对 SegWit 的后续提案，旨在进一步增加区块大小。然而，由于社区共识未达成，这次升级最终未能实现。
  
Taproot
- 时间：2021年
- BIP：BIP-0340, BIP-0341, BIP-0342
- 内容：引入了 Schnorr 签名和默克尔化抽象语法树（MAST），增强了隐私性和执行脚本验证的功能，进一步提高了交易的灵活性和效率。这是自2017年 SegWit 以来最重要的一次升级。
  
- MAST（Merkelized Abstract Syntax Trees）
  - 时间：2021年
  - BIP：作为 Taproot 的一部分
  - 内容：允许将多种条件的智能合约合并为一个，使得只有满足条件的部分才被公开，提高了隐私性和效率。
  
- Schnorr Signatures
  - 时间：2021年
  - BIP：作为 Taproot 的一部分
  - 内容：提供了一种更高效和安全的签名算法，允许多重签名聚合，提高了交易的隐私性和可扩展性。

#### 1.3.比特币侧链与 Layer2 解决方案
比特币侧链与Layer 2解决方案都是为了解决比特币主链（Layer 1）的一些限制，如扩展性和交易费用问题，但它们的实现方式和特点有所不同。

##### 1.3.1.闪电网络（Lightning Network）
- 基本原理：通过创建双向支付通道，让用户可以进行多次交易，而无需每次都记录在比特币主链上。只有开通道和关闭通道时的交易需要记录在主链上。
- 优势：
  - 快速交易：交易在通道内即时完成。
  - 低费用：由于大部分交易都不在主链上进行，交易费用大幅降低。
  - 隐私性增强：只有开通道和关闭通道时的交易记录在区块链上，中间交易是私密的。
- 用途：适用于微交易和需要快速确认的交易场景。

##### 1.3.2.State Channels
- 基本原理：类似于闪电网络，State Channels通过在链下处理多次交易，只有当通道关闭时才将最终状态记录到主链。
- 优势：
  - 高效性：在通道内的交易速度非常快。
  - 费用低：由于大部分交易都在链下处理，费用较低。
- 用途：适用于频繁交易的应用，如游戏、支付服务等

##### 1.3.3. RGB 与 RGB++ 协议
RGB 和 RGB++ 是围绕比特币和闪电网络的协议，用于在这些网络上实现更复杂的智能合约和资产管理。以下是对这两个协议的简介：
RGB 协议： RGB 协议是一个在比特币和闪电网络上运行的智能合约系统，旨在提供更强的隐私保护和可扩展性。它使用“客户端验证”（client-side validation）技术，将智能合约的执行和验证从区块链上移到用户的本地设备上，这样就减少了链上数据的存储需求和交易费用。RGB 协议的主要特点包括：
- 隐私保护：通过客户端验证，智能合约的执行和数据存储在本地完成，只有最小量的证明被广播到区块链上，从而保护用户隐私。
- 可扩展性：减少链上数据存储需求，有助于提高系统的可扩展性。
- 灵活性：支持多种类型的资产和复杂的智能合约逻辑。

RGB++ 协议：RGB++ 是 RGB 协议的扩展和改进版本，旨在进一步增强功能和性能。具体改进包括：
- 增强的合约功能：RGB++ 支持更多样化的智能合约功能，包括更复杂的逻辑和条件。
- 更好的用户体验：通过优化协议，RGB++ 提供更快的交易确认时间和更低的费用。
- 增强的安全性：引入新的加密技术和验证机制，提高系统的整体安全性。

### 2.Ethereum
以太坊由Vitalik Buterin在2015年创立，它不仅是一种加密货币（ETH），还是一个支持智能合约的平台。以太坊的智能合约功能使得去中心化应用（DApps）和去中心化金融（DeFi）成为可能。

#### 2.1. 以太坊的几个重要概念
##### 2.1.1.智能合约
智能合约（Smart Contracts）是以太坊最重要的特性之一。智能合约是一段存储在以太坊区块链上的代码，它可以自动执行协议的条款。例如，你可以创建一个智能合约来管理众筹活动，当筹款达到目标时，合约会自动将资金转给项目方。

##### 2.1.2.以太币 (ETH)
以太坊的原生货币称为以太币（Ether，简称 ETH）。ETH 是用于支付以太坊网络上的交易费用和计算服务的代币。用户需要支付 ETH 来执行智能合约和转账。

##### 2.1.3.以太坊虚拟机 (EVM)
以太坊虚拟机（Ethereum Virtual Machine，EVM）是以太坊的核心组件。EVM 是一个图灵完备的虚拟机，它可以执行用以太坊脚本语言（如 Solidity）编写的任意代码。EVM 使得智能合约的执行变得可能。

##### 2.1.4.DApps (去中心化应用)
去中心化应用（Decentralized Applications，DApps）是基于以太坊区块链和智能合约构建的应用程序。与传统应用不同，DApps 没有中央服务器，数据和应用逻辑是分布式的，这使得它们更加透明和安全。

##### 2.1.5.以太坊 2.0
以太坊 2.0 是以太坊的下一代版本，旨在提高网络的可扩展性、安全性和可持续性。以太坊 2.0 引入了股权证明（Proof of Stake, PoS）共识机制，而不是现有的工作量证明（Proof of Work, PoW）。这将大幅减少能耗并提高交易处理速度。

##### 2.1.6.ERC 标准
ERC 标准是以太坊的技术规范，用于创建代币和其他合约。最著名的是 ERC-20 标准，它定义了一种通用的接口，使得代币可以在不同的 DApp 之间互操作。ERC-721 是另一种标准，用于创建非同质化代币（NFT），这些代币具有独特性和不可互换性。

#### 2.2.ETH2.0 和 ETH1.0
以太坊1.0和以太坊2.0（ETH1.0和ETH2.0）是以太坊区块链平台的两个主要版本，它们在共识机制、性能、扩展性等方面有显著的差异。以下是对两者的详细比较：

##### 2.2.1. 以太坊1.0（ETH1.0）
- 共识机制：工作量证明（Proof of Work, PoW）：ETH1.0 使用PoW共识机制，矿工通过解决复杂的数学问题来验证交易并添加区块。这一过程能耗高，效率较低。
- 性能：吞吐量：ETH1.0每秒只能处理大约15-30笔交易，存在扩展性瓶颈，尤其在网络负载高峰期，交易确认时间和手续费会显著增加。
- 安全性：矿池集中化：PoW机制导致矿池的集中化问题，少数大型矿池控制了大部分算力，可能带来中心化风险。
- 智能合约和DApps：ETH1.0支持智能合约和去中心化应用（DApps），这些应用程序已经广泛应用于各种领域，如去中心化金融（DeFi）、游戏和供应链管理。

##### 2.2.2. 以太坊2.0（ETH2.0）
- 共识机制：权益证明（Proof of Stake, PoS）：ETH2.0 使用PoS共识机制，验证者通过质押ETH来获得验证区块的机会。PoS大幅减少能耗，提高了效率和安全性。
- 性能：
💡💡分片链（Sharding）：ETH2.0引入了分片技术，通过将区块链分成多个并行链（分片），每个分片处理不同的交易，从而显著提高了网络的吞吐量。预计 ETH2.0 将能够处理数千甚至数万笔交易每秒。
💡信标链（Beacon Chain）：ETH2.0的核心链，负责协调分片和验证者活动，确保整个网络的同步和共识。
- 安全性：去中心化和抗攻击性：PoS 机制下，恶意攻击者需要持有大量ETH，成本高昂，使得网络更安全。此外，验证者被随机选择，进一步分散风险。
- 智能合约和DApps：ETH2.0保留了对智能合约和DApps的支持，同时通过更高的吞吐量和更低的费用，提升了用户体验和应用性能。
- 过渡过程：合并（The Merge）：ETH2.0并不是从零开始的新区块链，而是对ETH1.0的升级。合并将ETH1.0的现有链和ETH2.0的PoS链结合，实现无缝过渡。

##### 2.2.3.主要改进和优点
- 能耗：ETH2.0通过 PoS 机制大幅减少了能源消耗，相比 PoW 机制更环保。
- 扩展性：分片技术和信标链的引入显著提高了网络的扩展性和吞吐量。
- 去中心化：ETH2.0通过随机选择验证者和经济激励机制，增强了去中心化程度和安全性。
- 经济模型：ETH2.0引入了新的经济模型，通过质押和奖励机制，进一步激励网络参与者，提高网络的稳定性和安全性。

#### 2.3.ETH2.0 中的 Epoch, Slot, Block 和 Block 状态


- ETH2.0 按照 epocho 出块
- 每一个 epocho 有 32 slot
- 每一个 slot 可以承载 1 个块

##### 2.3.1.Slot（时隙）
- 定义：Slot 是以太坊2.0中最基本的时间单位，每个slot都有一个指定的时间长度。在每个 slot 中，可能会有一个区块被提议并添加到链中。
- 时间长度：一个 slot 的长度为 12 秒。这意味着每 12 秒会有一个新的 slot。
- 功能：在每个 slot 中，网络中的验证者将有机会提议一个新的区块。这些提议者是通过权益证明（PoS）随机选择的。

##### 2.3.2.Epoch（纪元）
- 定义：Epoch 是由多个连续的slot组成的更长时间段。在 Eth2.0 中，Epoch 用于管理和组织验证者的活动。
- 组成：一个 Epoch 由 32 个 slot 组成。
- 时间长度：由于一个 slot 是12秒，一个 Epoch 的总长度是 384 秒（即6.4分钟）。
- 功能：Epoch 是用来实现共识机制的一部分。在每个 Epoch 结束时，网络会进行状态和共识的检查和调整，包括对验证者的奖励和惩罚。

##### 2.3.3.Block（区块）
- 定义：Block 是包含交易和其他相关数据的记录单元。在以太坊2.0中，每个slot可能会有一个区块被提议，但不保证每个 slot 都有区块。
- 内容：一个区块包含区块头、交易列表、状态根哈希、签名等数据。
- 创建过程：在每个 slot 开始时，网络会随机选出一个验证者来提议区块。该验证者将创建一个包含新交易和其他必要信息的区块，并广播到网络中。

##### 2.3.4.Safe（安全）
“Safe”状态指的是一个区块已经被多数验证者接受和认可，并且它很可能会成为最终的区块，但还没有达到完全最终确定的状态。
- 条件：一个区块被认为是“safe”时，意味着它已经收到了足够多的验证者投票（attestations），通常超过了一个特定的阈值，但还没有达到最终确定的标准。
- 安全性：在“safe”状态下，区块的存在是相对安全的，不太可能被回滚或被一个不同的区块链分支所替代。
- 作用：这个状态用来提高网络对区块的信任度，即使在它还没有被完全最终确定之前。它帮助节点和用户判断哪些区块在短期内是可信的。

##### 2.3.5.Finalized（最终确定）
“Finalized”状态指的是一个区块已经被永久地添加到区块链中，并且不可能被回滚或替代。这是区块链中最强的确认状态。
- 条件：一个区块被认为是“finalized”时，必须通过了严格的共识验证，通常需要超过2/3的验证者投票同意。具体来说，两个连续的epoch被最终确定时，意味着在这两个epoch之间的所有区块都被最终确定。
- 安全性：一旦区块达到“finalized”状态，它不可逆转，保证了区块链的最终一致性和数据的永久性。这种状态防止了分叉和双花攻击的可能性。
- 作用：最终确定的区块为用户和应用提供了最高级别的交易安全性和网络信任度。

#### 2.4.以太坊钱包确认位
[图片]

### 3.Cosmos
Cosmos是一个旨在解决区块链可扩展性和互操作性问题的区块链生态系统。它的目标是通过一个去中心化的网络将不同的区块链连接起来，使它们能够互相通信和交换数据

#### 3.1.关键组件
##### 3.1.1.Tendermint
Tendermint 是一种拜占庭容错 (BFT) 共识算法，它为 Cosmos 提供了基础层。Tendermint 核心允许开发人员快速构建高效、安全和可扩展的区块链应用。它包含两个主要部分：
- Tendermint 核心：处理网络和共识部分，使区块链能够在不信任的环境中达到共识。
- Application Blockchain Interface (ABCI)：允许开发人员用任意编程语言构建应用程序逻辑。

Cosmos SDK
Cosmos SDK 是一个开发框架，它帮助开发者创建自定义区块链应用。SDK 提供了一组预定义的模块（例如账户、治理、staking 等），开发者可以使用这些模块构建他们的区块链，也可以创建新的模块来满足特定需求。

Inter-Blockchain Communication (IBC) Protocol
IBC 协议是 Cosmos 实现不同区块链之间通信的关键。IBC 允许独立的区块链通过共享的中心枢纽进行通信和资产交换。该协议确保了跨链操作的安全性和可靠性。

Cosmos 的互链安全（Interchain Security）
Cosmos 的互链安全（Interchain Security）是一种增强区块链网络整体安全性的机制，它允许多个区块链共享一个共同的安全层。具体来说，互链安全使较小的区块链（zones）能够利用较大、较安全的区块链（如 Cosmos Hub）的验证者集群来保护自己。这种机制提升了整个 Cosmos 生态系统的安全性和稳定性。

#### 3.2.Cosmos Hub
Cosmos Hub 是 Cosmos 网络的中心区块链，它充当不同区块链之间的中介，管理跨链通信和资产交换。ATOM 是 Cosmos Hub 的原生加密货币，用于支付交易费用和参与治理。

#### 3.3.特点和优势
- 可扩展性：Cosmos 通过分区架构实现了高可扩展性，每个区块链（zone）可以独立处理交易，避免了传统区块链的性能瓶颈问题。
- 可互操作性：通过 IBC 协议，Cosmos 实现了不同区块链之间的无缝互操作，使得资产和数据能够跨链流动。
- 模块化： Cosmos SDK 提供了模块化的开发框架，开发者可以灵活地组合预定义模块或创建新模块，快速构建区块链应用。
- 安全性：Tendermint 核心提供了强大的安全保障，支持拜占庭容错共识，确保在部分节点恶意或故障的情况下，区块链仍能正常运作。

#### 3.4.实际应用
Cosmos 的技术已经被多个区块链项目采用，用于构建去中心化金融 (DeFi)、供应链管理、社交网络等多种应用场景。通过 Cosmos，开发者可以实现高度可扩展和互操作的区块链解决方案，推动区块链技术在各行业的应用。

#### 3.5.未来发展
Cosmos 的发展路线图包括进一步优化 IBC 协议、提升 Cosmos SDK 的功能、以及扩展生态系统中的区块链数量。未来，Cosmos 有望成为区块链互操作性的标准解决方案，推动区块链技术的广泛应用和发展。

总结来说，Cosmos 通过其独特的架构和协议，为区块链技术的可扩展性和互操作性问题提供了有效的解决方案，促进了一个去中心化、互联互通的区块链生态系统的形成。

### 4.Ripple

Ripple专注于解决跨境支付和银行间结算问题。它通过Ripple协议共识算法（RPCA）提供快速且低成本的国际支付服务，其原生代币为XRP。


### 5.TON
TON是由Telegram团队开发的区块链项目，旨在创建一个快速、安全且可扩展的区块链平台。虽然最初由Telegram开发，但由于法律和监管问题，Telegram在2020年放弃了该项目。随后，TON社区和开发者接手，继续推动项目的发展。

### 6.Solana

Solana是一个高性能的区块链平台，致力于提供快速和低成本的交易。其独特的时间证明（Proof of History, PoH）共识机制，能够实现高吞吐量和低延迟。

### 7.Polkadot

波卡由以太坊联合创始人Gavin Wood发起，旨在实现区块链网络之间的互操作性。它通过平行链和中继链结构，使得不同的区块链可以无缝地通信和共享信息。

## 三. 区块链行业产品形态
### 1.公链
#### 1.1.公链本身
- Bitcoin 
- Ethereum
- Cosmos 
- Polkadot
- Solana
- Ton
- Ripple
#### 1.2.Layer2
- Ethereum Layer2 代表产品：Op Mainnet, Scroll, Arbitrum, linea, starknet 等
- 基于 Op Stack 改造的有名的 Layer2 项目：Base, Blast, Manta, Mantle，Metis 等
- Bitcoin 侧链和 Layer2: Stacks, Nervos, BitLayer, Merlin 等

#### 1.3.公链配套产品
- 区块链浏览器， 代表产品：etherscan, blockscout, oklink 等
- 公链钱包，代表产品：metamask, ton wallet, phantom 等
- 水龙头，代表产品：各大公链水龙头
- 跨链桥(Layer2，Layer3 必有)：OP 跨链桥，Scroll 跨链桥，DappLink 第三方跨链桥等
- 代币经济模型

### 2.交易所
交易所代表产品：Binance, bybit, okx, coinbase, gate, mxc 等
- 现货交易
- 杠杆交易
- 期货交易
- 法币出金
- 质押产品
- 量化产品
- 带单系统
- 钱包系统
- NFT 交易
- 做市商系统

### 3.钱包
- 中心化钱包, 代表项目：各大交易所钱包
- 去中心化钱包, 代表项目：Metamask, Imtoken, TokenPocket 和 TrustWallet 等
- 硬件钱包, 代表项目：Ledger 和 OneKey 等
- 多签钱包, 代表项目：Gnosis Safe
- 托管钱包, 代表项目：Cobo 托管钱包，ChainUp 托管钱包，各大交易所托管钱包等
- AA 钱包, 代表项目：暂无
- 社交恢复钱包, 代表项目：几乎已经死掉了

### 4.Defi 和 NFT
- 去中心化交易所, 代表产品：uniswap, sushiswap, pancakeswap 等
- 去中心化衍生品交易所, 代表产品：Dydx, Apex 等
- 去中心化 NFT 交易平台, 代表产品：opensea，solsea 等

### 5.新型质押
- LSD, 代表产品：lido, mantle-lsp
- 重新质押，代表产品：eigenlayer
- 跨链质押，代表产品：LinkLayer

### 6.数据平台
- 监控平台:  代表产品：forta 等
- 数据服务平台, 代表产品：Debank, DefiLlama 等
- 数字货币追踪, 代表产品: OkLink 等
